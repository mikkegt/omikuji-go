<div>
    <main role="main" class="container text-center">
        <div class="mt-5">
            <h1 class="display-1">â›©</h1>
            <h1 class="m-plus-rounded-1c-regular"><strong>Omikuji Go</strong></h1>
            <div>
              <button type="button" class="mt-5 m-plus-rounded-1c-regular btn bg-danger text-white btn-lg" @click="c.DrawOmikuji(event)">ãŠã¿ãã˜ã‚’å¼•ã</button>
            </div>
            <div vg-if="c.result != nil" class="mt-5 alert alert-danger m-plus-rounded-1c-regular" role="alert" >
              <h3>é‹å‹¢: <span vg-html="c.result.fortune"></span></h3>
              <p vg-html="c.result.body"></p>
              <p vg-html="c.result.img" class="display-2"></p>
            </div>
        </div>
    </main>
</div>

<script type="application/x-go">

import (
    "math/rand"
)

type Root struct {
    omikujiList []Omikuji
    result      *Omikuji
}

type Omikuji struct {
    fortune string
    body    string
    img     string
}

func (c *Root) Init(ctx vugu.InitCtx) {
    c.omikujiList = []Omikuji{
        {
            fortune: "å¤§å‰",
            body: "ã¿ãªãã‚‹ãƒ‘ãƒ¯ãƒ¼ãƒ¼ãƒ¼ï¼ã€‚ç´ æ™´ã‚‰ã—ã„çµæœãŒå¾…ã£ã¦ã„ã¾ã™ã€‚",
            img: "ğŸ¥³",
        },
        {
            fortune: "å‰",
            body: "ã„ã„ã“ã¨ã‚ã‚Šãã†ï¼Ÿ ã‚¹ãƒˆãƒ¬ãƒƒãƒã§å¿ƒã‚‚ä½“ã‚‚ã‚„ã‚ã‚‰ã‹ãã”æ©Ÿå«Œã«ã€‚",
            img: "ğŸ§˜â€",
        },
        {
            fortune: "ä¸­å‰",
            body: "ç´«å¤–ç·šæ³¨æ„ï¼æ–°é®®ãªæœç‰©ã‚’ã¨ã‚Šç¾ç™½ã‚’ä¿ã¡ã¾ã—ã‚‡ã†ã€‚",
            img: "ğŸâ€",
        },
        {
            fortune: "å°å‰",
            body: "è¶³å…ƒæ³¨æ„ï¼æ…Œã¦ã™æ·±å‘¼å¸ã€‚",
            img: "ğŸ˜‰",
        },
        {
            fortune: "æœ«å‰",
            body: "ç–²ã‚Œã¡ã‚ƒã†ã‹ã‚‚ï¼Ÿè‡ªåˆ†ã«ã”è¤’ç¾ã‚’ã‚ã’ã¾ã—ã‚‡ã†ã€‚",
            img: "ğŸ¹",
        },
    }
}

func (c *Root) DrawOmikuji(event vugu.DOMEvent) {
    index := rand.Intn(len(c.omikujiList))
    c.result = &c.omikujiList[index]
}
</script>
<style>
.m-plus-rounded-1c-regular {
  font-family: "M PLUS Rounded 1c", sans-serif;
  font-weight: 400;
  font-style: normal;
}
</style>
